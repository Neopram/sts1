# Database Configuration
DATABASE_URL=postgresql+asyncpg://postgres:password@localhost/sts_clearance
POSTGRES_DB=sts_clearance
POSTGRES_USER=postgres
POSTGRES_PASSWORD=password
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# Backend Configuration
SQL_ECHO=false
MEDIA_ROOT=uploads
MAX_FILE_SIZE=52428800  # 50MB in bytes
ALLOWED_MIME_TYPES=application/pdf,image/jpeg,image/png,image/tiff,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document

# Feature Flags
COCKPIT_MISSING_EXPIRING_DOCS=true

# Security
SECRET_KEY=your-secret-key-here
CORS_ORIGINS=["http://localhost:3000", "http://127.0.0.1:3000"]

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# Development
DEBUG=true
RELOAD=true

# ============================================================================
# NEW: Document Management Upgrades (Storage, OCR, PDF Viewer)
# ============================================================================

# Storage Backend: "local" for development, "s3" for production
STORAGE_TYPE=local
# STORAGE_TYPE=s3

# ============================================================================
# S3 Configuration (only if STORAGE_TYPE=s3)
# ============================================================================

# AWS S3 Bucket name for storing documents
# AWS_S3_BUCKET=sts-clearance-documents

# AWS Region
# AWS_REGION=us-east-1

# AWS Credentials (use IAM role in production, NOT hardcoded)
# AWS_ACCESS_KEY_ID=your_access_key_here
# AWS_SECRET_ACCESS_KEY=your_secret_key_here

# ============================================================================
# OCR Configuration (Text Extraction from PDFs/Images)
# ============================================================================

# Enable OCR for document text extraction and indexing
ENABLE_OCR=true

# Path to Tesseract executable (Windows: auto-detect, Linux/Mac: optional)
# TESSERACT_PATH=/usr/bin/tesseract

# OCR languages (comma-separated, default: eng)
# OCR_LANGUAGES=eng,spa,fra

# ============================================================================
# PDF Viewer Configuration
# ============================================================================

# Maximum PDF size for in-browser viewing (in MB)
# MAX_PDF_DISPLAY_SIZE=100

# Frontend PDF viewer type: "iframe" for maximum compatibility, "react-pdf" for advanced features
# PDF_VIEWER_TYPE=iframe


# ============================================================================
# PHASE 2: SETTINGS SYSTEM CONFIGURATION
# ============================================================================

# ============ Email Service (SMTP) Configuration ============
# Email provider: gmail, outlook, custom
EMAIL_PROVIDER=gmail

# SMTP Server settings
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SENDER_EMAIL=noreply@stsclearance.com
SENDER_NAME=STS Clearance Hub

# Email rate limiting
MAX_EMAILS_PER_HOUR=100
MAX_EMAILS_PER_DAY=1000

# Enable/disable email service
EMAIL_SERVICE_ENABLED=true


# ============ Two-Factor Authentication (2FA/TOTP) Configuration ============
# TOTP Issuer name
TOTP_ISSUER=STS Clearance Hub

# Backup codes settings
BACKUP_CODES_COUNT=10
BACKUP_CODE_LENGTH=8

# Enable 2FA enforcement
ENFORCE_2FA=false
2FA_GRACE_PERIOD=7  # Days before enforcement


# ============ Login Tracking & Anomaly Detection ============
# Enable login tracking
ENABLE_LOGIN_TRACKING=true

# GeoIP database path (download MaxMind GeoLite2 City database)
GEOIP_DATABASE_PATH=./geoip/GeoLite2-City.mmdb

# Risk scoring thresholds
LOGIN_RISK_LOW_THRESHOLD=20
LOGIN_RISK_MEDIUM_THRESHOLD=40

# Enable anomaly detection
ENABLE_ANOMALY_DETECTION=true


# ============ Automatic Backup Configuration ============
# Backup storage directory
BACKUP_DIR=/app/backups
# Or for Windows: BACKUP_DIR=C:\\app\\backups

# Max backup retention
MAX_BACKUP_AGE_DAYS=30
MAX_BACKUPS_PER_USER=10

# Backup compression
ENABLE_BACKUP_COMPRESSION=true

# Enable automatic backups
ENABLE_AUTO_BACKUP=true


# ============ Export Service Configuration ============
# Supported formats: json, csv, xml, pdf, xlsx, sql
EXPORT_FORMATS=json,csv,xml,pdf,xlsx,sql

# Export file storage
EXPORT_DIR=/app/exports
# Or for Windows: EXPORT_DIR=C:\\app\\exports

# Max export file size (in MB)
MAX_EXPORT_SIZE=500

# Enable export service
ENABLE_EXPORT_SERVICE=true


# ============ Redis Configuration (for caching and queues) ============
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0


# ============ Database Backup Configuration ============
# Where to backup database files
DATABASE_BACKUP_DIR=/app/db-backups
# Or for Windows: DATABASE_BACKUP_DIR=C:\\app\\db-backups

# STS Clearance Hub - Production Environment Configuration

# Application Environment
ENVIRONMENT=production
DEBUG=false
RELOAD=false

# Database Configuration
DATABASE_URL=postgresql+asyncpg://sts_user:${DB_PASSWORD}@postgres:5432/sts_clearance_prod
SQL_ECHO=false
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30

# Security Configuration
JWT_SECRET_KEY=${JWT_SECRET_KEY}
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60
JWT_REFRESH_TOKEN_EXPIRE_DAYS=30
SECRET_KEY=${SECRET_KEY}

# CORS Configuration - Production domains only
CORS_ORIGINS=["https://sts-clearance.yourdomain.com", "https://app.yourdomain.com"]

# Redis Configuration
REDIS_URL=redis://redis:6379/0

# File Storage Configuration
MEDIA_ROOT=/app/uploads
MAX_FILE_SIZE=52428800  # 50MB
ALLOWED_FILE_TYPES=pdf,doc,docx,jpg,jpeg,png,txt,xls,xlsx

# Feature Flags
COCKPIT_MISSING_EXPIRING_DOCS=true

# Email Configuration (for notifications)
SMTP_HOST=${SMTP_HOST}
SMTP_PORT=587
SMTP_USERNAME=${SMTP_USERNAME}
SMTP_PASSWORD=${SMTP_PASSWORD}
SMTP_USE_TLS=true
FROM_EMAIL=noreply@yourdomain.com

# Monitoring Configuration
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
LOG_LEVEL=INFO
STRUCTURED_LOGGING=true

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_BURST=200

# SSL/TLS Configuration
SSL_ENABLED=true
SSL_CERT_PATH=/etc/ssl/certs/sts-clearance.crt
SSL_KEY_PATH=/etc/ssl/private/sts-clearance.key

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_S3_BUCKET=${BACKUP_S3_BUCKET}
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM

# External Services
S3_BUCKET=${S3_BUCKET}
S3_ACCESS_KEY=${S3_ACCESS_KEY}
S3_SECRET_KEY=${S3_SECRET_KEY}
S3_REGION=${S3_REGION}

# Monitoring URLs
HEALTH_CHECK_URL=https://sts-clearance.yourdomain.com/health
METRICS_URL=https://sts-clearance.yourdomain.com/metrics

# Logging
LOG_FORMAT=json
LOG_FILE=/var/log/sts-clearance/app.log
ACCESS_LOG_FILE=/var/log/sts-clearance/access.log

# Performance Tuning
WORKER_PROCESSES=4
WORKER_CONNECTIONS=1000
KEEPALIVE_TIMEOUT=65
CLIENT_MAX_BODY_SIZE=50M

# Database Backup
POSTGRES_BACKUP_RETENTION_DAYS=30
POSTGRES_BACKUP_COMPRESSION=gzip
